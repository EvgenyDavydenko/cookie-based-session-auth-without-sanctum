<script setup>
import { onMounted } from 'vue'
import useAuth from '../composables/useAuth'

const { user, getUser } = useAuth()

onMounted(async () => {
  if (!user.value) {
    await getUser()
  }
})
</script>

<template>
  <div class="container my-5">
    <div class="row">
      <div class="col-12 text-center">
        <h1 class="display-4 fw-bold text-primary mb-3">–ú–æ–π –ë–ª–æ–≥</h1>

        <p class="lead text-muted">
          <template v-if="user">
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <strong>{{ user.name }}</strong> üëã
          </template>
          <template v-else>
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <strong>–≥–æ—Å—Ç—å</strong> üëã
          </template>
        </p>
      </div>
    </div>
  </div>
</template>